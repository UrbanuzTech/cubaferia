{% load i18n static %}
{% if cl.search_fields %}
    <form method="get">
        <div class="input-group">
            <input class="form-control"
                   placeholder="{% trans 'introduce text to search'|capfirst %}"
                   type="text"
                   name="{{ search_var }}"
                   value="{{ cl.query }}"
                   id="searchbar" autofocus>
            <span class="input-group-btn">
                <button class="btn btn-default" title="{% trans 'search'|capfirst %}">
                    <i class="fa fa-search"></i>
                </button>
            </span>
            {% if cl.has_filters %}
                <span class="input-group-addon">
                    <a href="#modal-advanced-filters" data-toggle="modal"
                       title="{% trans 'advanced filters'|capfirst %}">
                        <i class="fa fa-filter"></i>
                    </a>
                </span>
            {% endif %}
            {% if cl.params %}
                <span class="input-group-btn">
                    <button type="button" onclick="clear_filters()" class="btn btn-danger"
                            title="{% trans 'clear filters'|capfirst %}">
                        <i class="fa fa-remove"></i>
                    </button>
                </span>
            {% endif %}
        </div>
        {% if show_result_count %}
            <span class="small quiet">{% blocktrans count counter=cl.result_count %}{{ counter }} result
                {% plural %}{{ counter }} results{% endblocktrans %} (<a
                    href="?{% if cl.is_popup %}_popup=1{% endif %}">{% if cl.show_full_result_count %}
                {% blocktrans with full_result_count=cl.full_result_count %}{{ full_result_count }} total
                {% endblocktrans %}{% else %}{% trans "Show all" %}{% endif %}</a>)</span>
        {% endif %}
        {% for pair in cl.params.items %}
            {% if pair.0 != search_var %}<input type="hidden" name="{{ pair.0 }}" value="{{ pair.1 }}">
            {% endif %}
        {% endfor %}
    </form>
{% endif %}
<script>
    function clear_filters() {
        window.location.href = window.location.pathname;
    }
</script>